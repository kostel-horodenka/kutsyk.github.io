if (self.CavalryLogger) { CavalryLogger.start_js(["GtNWn"]); }

__d("EmbeddedPostPluginActions",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={EMBEDDED_POSTS_COMMENT:"embedded_post_comment",EMBEDDED_POSTS_LIKE:"embedded_post_like",EMBEDDED_POSTS_SHARE:"embedded_post_share",EMBEDDED_POSTS_UNLIKE:"embedded_post_unlike"};},null);
__d("EmbeddedPostPluginActionTypes",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CLICK:"click"};},null);
__d('AsyncFormRequestUtils',['Arbiter'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={subscribe:function(i,j,k){c('Arbiter').subscribe('AsyncRequest/'+j,function(l,m){var n=m.request.relativeTo;if(n&&n===i)k(m);});}};f.exports=h;},null);
__d('PluginTabLoadMore',['CSS','Event'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={noMoreContent:function(){c('Event').fire(this.root,'noMoreContent');c('CSS').hide(this.spinner);},setCursor:function(i){c('Event').fire(this.root,'setCursor',i);},init:function(i,j){this.root=i;this.spinner=j;}};f.exports=h;},null);
__d("XPostPluginLoggingController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/platform\/plugin\/post\/logging\/",{});},null);
__d('PluginFeedFooterActionLogger',['AsyncRequest','DOM','EmbeddedPostPluginActions','EmbeddedPostPluginActionTypes','Event','XPostPluginLoggingController'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={initializeClickLoggers:function(i,j,k,l,m,n,o,p,q){var r=function(s,t){try{var v=c('DOM').find(i,'.'+s);c('Event').listen(v,'click',function(w){new (c('AsyncRequest'))().setURI(c('XPostPluginLoggingController').getURIBuilder().getURI()).setData({action:t,action_type:c('EmbeddedPostPluginActionTypes').CLICK,source:n,story_token:o,referer_url:p,is_sdk:q}).send();});}catch(u){}};r(j,c('EmbeddedPostPluginActions').EMBEDDED_POSTS_LIKE);r(k,c('EmbeddedPostPluginActions').EMBEDDED_POSTS_UNLIKE);r(l,c('EmbeddedPostPluginActions').EMBEDDED_POSTS_COMMENT);r(m,c('EmbeddedPostPluginActions').EMBEDDED_POSTS_SHARE);}};f.exports=h;},null);
__d('PluginFeedLikeButton',['Arbiter','AsyncFormRequestUtils','ClientIDs','CSS','DOM','DOMEventListener','FBFeedLocations','FormSubmit','Keys','PluginOptin','URI'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();window.resetConfirmStoryLike=function(i){c('CSS').show(c('DOM').find(document,'#likeStory_'+i));c('DOM').remove(c('DOM').find(document,'#confirmStory_'+i));};var h={addClientId:function(i){i.setAttribute('value',c('ClientIDs').getNewClientID());},loggedOutLikeButton:function(i,j,k){var l='';if(j===c('FBFeedLocations').EMBED){l='post';}else if(j===c('FBFeedLocations').PAGE_PLUGIN){l='page';}else throw new Error('Invalid FBFeedLocation type.');var m=new (c('PluginOptin'))(l).addReturnParams({act:'like_'+i});c('DOMEventListener').add(k,'click',m.start.bind(m));},init:function(i,j,k,l,m){var n=function(q){if(q.type==='keypress')if(q.keyCode===c('Keys').RETURN||q.keyCode===c('Keys').SPACE){c('FormSubmit').send(m);}else return;c('FormSubmit').send(m);};c('DOMEventListener').add(j,'click',n);c('DOMEventListener').add(k,'click',n);c('DOMEventListener').add(j,'keypress',n);c('DOMEventListener').add(k,'keypress',n);var o=l.getAttribute('value')==='1';c('AsyncFormRequestUtils').subscribe(m,'send',function(q){var r=l.getAttribute('value')==='1';c('CSS').conditionShow(k,r);c('CSS').conditionShow(j,!r);c('Arbiter').inform('embeddedUfiToggle',{isLike:r,storyToken:i});l.setAttribute('value',r?'':'1');});c('AsyncFormRequestUtils').subscribe(m,'response',function(q){var r=q.response.payload;if(r&&!r.success){var s=r.isLike;c('CSS').conditionShow(j,s);c('CSS').conditionShow(k,!s);c('Arbiter').inform('revertLike',{isLike:s,storyToken:i});l.setAttribute('value',s?'1':'');}});var p=new (c('URI'))(window.location.search).getQueryData();if(o&&p.act==='like_'+i)c('FormSubmit').send(m);}};f.exports=h;},null);